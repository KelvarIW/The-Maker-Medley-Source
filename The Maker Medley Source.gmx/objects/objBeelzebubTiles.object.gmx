<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprSlopeBlock</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-6</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>broken = false;
sfx = (x &lt;= 96 || (x &gt;= 256 &amp;&amp; x &lt;= 512));
prop = instance_place(x, y-1, objMakerGroundProps);
propSprite = -1;
propInd = 0;
propAnim = 0;
propType = 0;
propYOff = -16;
image_speed = 0;
tile = 0;
    
sprite_index = sprS1PurifyBlocks;
x += 16;
y += 16;
rot = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (y &gt;= 736){
    instance_destroy();
}else if (broken){
    if (propSprite &gt;= 0){
        propInd += propAnim;
        if (propType == 0.1){
            propInd = (max(propInd-1, 0) mod 4) + 1;
        }else if (propType == 0.2){
            propInd = (max(propInd-5, 0) mod 6) + 5;
        }
    }
    image_angle += rot;
}else if (place_meeting(x, y, objBeelzP01a)){
    event_user(0);
    if (sfx){
        audio_stop_sound(sndMakerSamplePunch);
        var _snd = audio_play_sound(sndMakerSamplePunch, 0, 0);
        audio_sound_gain(_snd, 0.5, 0);
    }
}

if (!broken){ //stop updating the sprite if the tile is broken
    var _top, _bot, _left, _right, _tile;
    _top = (collision_point(x, y-17, objBlock, false, true) != noone);
    _left = (collision_point(x-17, y, objBlock, false, true) != noone);
    _right = (collision_point(x+17, y, objBlock, false, true) != noone);
    _bot = ((bbox_bottom+1) &gt;= 608 || collision_point(x, y+17, objBlock, false, true) != noone);
    
    //Choose tile image_index
    //  left  mid  right
    // bleft bmid bright
    
    tile = 1;
    if (!_top)
        tile += 6;
    if (!_left &amp;&amp; _right){
        tile -= 1;
    }else if (_left &amp;&amp; !_right){
        tile += 1;
    }
    if (!_bot){
        tile += 3;
    }
    if (tile == 1){
        var _bl = (collision_point(x-17, y+17, objBlock, false, true) != noone);
        var _br = (collision_point(x+17, y+17, objBlock, false, true) != noone);
        if (_bl &amp;&amp; !_br){
            tile = 12;
        }else if (!_bl &amp;&amp; _br){
            tile = 13;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>broken = true;
speed = 5.25 + 1.5*((((x+1) mod 18) * (y mod 13)) mod 15)/15;
direction = 67.5 + 45*((((x+1) mod 10) * (y mod 13)) mod 23)/23;
gravity = 0.18 + 0.09*(((y mod 27) / max(1, (x+1) mod 8)) mod 1);
rot = 3.4 + 1.4*(((y mod 27) / max(1, (x+1) mod 8)) mod 1);
depth -= 1;  //ensure the broken blocks are in front of any stationary ones
if (instance_exists(prop)){
    propSprite = prop.sprite_index;
    propInd = prop.image_index;
    propAnim = prop.image_speed;
    propType = prop.propType; //only relevant for mushrooms
    if (prop.sprite_index == sprMakerTorchProp){
        propYOff -= 19;
    }
    instance_destroy(prop);
}else{
    prop = -4;
}

// one frame of movement
vspeed += gravity;
x += hspeed;
y += vspeed;
image_angle += rot;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (propSprite &gt;= 0){
    var _rotCoords = scrChangeOrigin(0, 0, 0, -propYOff, image_angle);
    draw_sprite_ext(propSprite, propInd, x + _rotCoords[0], y + _rotCoords[1], 1, 1, image_angle, c_white, 1);
}
draw_sprite_ext(sprS1PurifyBlocks, tile, x, y, 1, 1, image_angle, c_white, 1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
