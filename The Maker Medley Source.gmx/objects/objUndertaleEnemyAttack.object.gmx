<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>attack = -1;
t = -30;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// End Attack
with (objUndertaleMenu){
    event_user(1);
}
instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var _attackOver = false;
t += 1;
if (t == 0 &amp;&amp; attack &lt; 4){
    var _destX = 400, _destY = 390;
    if (attack == 0){
        _destY += 48;
    }else if (attack == 3){
        _destY = 316;
    }
    instance_create(400, _destY, objUndertaleHeart);
}

if (t &gt;= 0){
    switch(attack){
        case 0:  // ceiling rounded projectiles
            if (t mod 5 == 0){
                with (instance_create(400 + ((4*t) mod 7.08 - 3.54)*94/3.54, 290, objUndertaleProj)){
                    index = 0;
                    direction = 270 + 45/4.75*((7*other.t) mod 9.5 - 4.75);
                    event_user(0);
                }
            }
            if (t == 220){
                _attackOver = true;
            }
            break;
        case 2:  // bouncing
            if (t == 0){
                with (instance_create(400, 320, objMakerDangerTriangle)){
                    sprite_index = sprUndertaleDangerTriangle;
                    alphaIncAmt = 0.3334;
                    alphaDecAmt = 0.05;
                    alarm[0] = 20;
                }
            }
            if (t == 20 || t == 60 || t == 100 || t == 140 || t == 180){
                with (instance_create(400, 320, objUndertaleProj)){
                    index = 1;
                    indexBase = 20;
                    vspeed = -2;
                    hspeed = 3.5*sin(other.t*pi/17.5);
                    event_user(0);
                }
                with (instance_create(400, 320, objUndertaleProj)){
                    index = 1;
                    indexBase = 20;
                    vspeed = -2;
                    hspeed = 3.5*sin((other.t+20)*pi/17.5);
                    event_user(0);
                }
            }
            if (t == 220){
                _attackOver = true;
            }
            break;
        case 1:  // fruit circles
            if (t == 20 || t == 120 || t == 220 || t == 320){
                for(var i=0; i&lt;5; i++;){
                    with (instance_create(200, 320, objUndertaleProj)){
                        index = 2;
                        rotDir = 135 + 72*i;
                        indexBase = 20;
                        if (other.t == 120 || other.t == 320)
                            rotDirInc *= -1;
                        event_user(0);
                    }
                }
            }
            if (t == 380){
                _attackOver = true;
            }
            break;
        case 3:  // fruit from bottom of screen
            if (t &gt;= 0 &amp;&amp; t &lt; 260 &amp;&amp; t mod 30 == 0){
                var _count = (t div 30);
                for(var i=-2; i&lt;4; i++;){
                    with (instance_create(400 + (-92 + 14 * (4*i + (_count mod 4))), 496, objUndertaleProj)){
                        index = 3;
                        event_user(0);
                    }
                }
            }
            if (t == 260){
                _attackOver = true;
            }
            break;
        case 4:  // "Generic Corridor Needle"
            if (t == 0){
                var _rightEdge, _spacing;
                _rightEdge = 496;
                _spacing = 128;
                instance_create(400,390,objUndertaleHeart2);
                
                //gate
                instance_create(496, 432, objMakerSpikeDown);
                instance_create(496, 464, objMakerSpikeUp);
                
                //  v
                //
                // ^ ^
                instance_create(496 + (_spacing + 16), 464, objMakerSpikeUp);
                instance_create(512 + (_spacing + 16), 432, objMakerSpikeDown);
                instance_create(528 + (_spacing + 16), 464, objMakerSpikeUp);
                
                //ceiling diamond but w/o the ceiling
                instance_create(528 + 2*(_spacing + 16), 464, objMakerSpikeUp);
                instance_create(544 + 2*(_spacing + 16), 464, objMakerSpikeUp);
                
                //DR diagonal
                instance_create(544 + 3*(_spacing + 16), 464, objMakerSpikeUp);
                instance_create(560 + 3*(_spacing + 16), 448, objMakerSpikeDown);
                
                //three spikes
                instance_create(560 + 4*(_spacing + 16), 464, objMakerSpikeUp);
                instance_create(576 + 4*(_spacing + 16), 464, objMakerSpikeUp);
                instance_create(592 + 4*(_spacing + 16), 464, objMakerSpikeUp);
                
                //Diamond
                instance_create(592 + 5*(_spacing + 16), 464, objMakerSpikeUp);
                instance_create(592 + 5*(_spacing + 16), 432, objMakerSpikeDown);
                instance_create(608 + 5*(_spacing + 16), 464, objMakerSpikeUp);
                instance_create(608 + 5*(_spacing + 16), 432, objMakerSpikeDown);
                
                //4 ground spikes //5
                instance_create(608 + 6*(_spacing + 16), 464, objMakerSpikeUp);
                instance_create(624 + 6*(_spacing + 16), 464, objMakerSpikeUp);
                instance_create(640 + 6*(_spacing + 16), 464, objMakerSpikeUp);
                instance_create(656 + 6*(_spacing + 16), 464, objMakerSpikeUp);
                //instance_create(672 + 6*(_spacing + 16), 464, objMakerSpikeUp);
                
                //final gate
                instance_create(656 + 7*(_spacing + 16), 432, objMakerSpikeDown);
                instance_create(656 + 7*(_spacing + 16), 464, objMakerSpikeUp);
                
                instance_create(704 + 8*(_spacing + 16), 448, objUndertaleTeleporter);
                
                with (objMakerSpikeUp){
                    image_xscale = 0.5;
                    image_yscale = 0.5;
                    visible = false;
                }
            }
            if (t &gt; 0 &amp;&amp; t &lt;= 370){
                with (objMakerSpikeUp){
                    x -= 6.18*sin(other.t*pi/370);
                }
                with (objUndertaleTeleporter){
                    x -= 6.18*sin(other.t*pi/370);
                }
            }
            break;
        case 5:
            if (t == 0){
                instance_create(x+56, y+6 + 10, objUndertaleHeart2);
                instance_create(x+48, y+6 + 144, objUndertaleTeleporter);
                (instance_create(x+130, y+6 + 90, objUndertaleAttackVisual)).sprite_index = sprUndertaleAttackPikachu;
                objUndertaleAttackVisual.image_xscale = 2;
                objUndertaleAttackVisual.image_yscale = 2;
                
                instance_create(x+48, y+6 + 16, objUndertaleBlock);
                instance_create(x   , y+6 + 64, objUndertaleBlock);
                instance_create(x+48, y+6 + 112, objUndertaleBlock);
                
                instance_create(x+32, y+6 + 16, objMakerSpikeLeft);
                instance_create(x+16, y+6 + 64, objMakerSpikeRight);
                instance_create(x+32, y+6 + 112, objMakerSpikeLeft);
                
                //instance_create(x+48, y+6 + 32, objMakerSpikeUp);
                //instance_create(x   , y+6 + 64, objMakerSpikeUp);
                //instance_create(x+48, y+6 + 112, objMakerSpikeUp);
                instance_create(x+32, y+6 + 160, objMakerSpikeUp);
                
                for (var i=-1;i&lt;11;i++;){
                    instance_create(x+64, y+6 + 16*i, objUndertaleBlock);
                }
                
                with (objMakerSpikeUp){
                    image_xscale = 0.5;
                    image_yscale = 0.5;
                    event_perform(ev_alarm, 10);
                    event_perform(ev_alarm, 11);
                    alarm[10] = -1;
                    alarm[11] = -1;
                    visible = false;
                }
            }
            break;
        case 6:
            if (t == 0){
                instance_create(x+56,  y + 174,objUndertaleHeart2);
                instance_create(x+25,  y + 72, objUndertaleAttackKeese);
                instance_create(x+90,  y + 72, objUndertaleAttackKeese);
                instance_create(x+155, y + 72, objUndertaleAttackKeese);
                (instance_create(x+90, y + 50, objUndertaleAttackVisual)).sprite_index = sprUndertaleAttackCase;
            }
            if (t &gt;= 20 &amp;&amp; t &lt;= 140 &amp;&amp; t mod 40 == 20){
                audio_play_sound(sndGeezerThrow, 0, 0);
                with (instance_create(x+90, y + 50, objUndertaleRupee)){
                    speed = 4;
                    direction = 90 + 45*sin(other.t*pi/13.85);
                    vspeed /= 3;
                }
                if (t == 140){
                    with (objUndertaleAttackVisual){
                        subimage = 1;
                    }
                }
            }else if (t &gt; 140 &amp;&amp; !instance_exists(objUndertaleRupee)){
                _attackOver = true;
            }
            break;
        case 7:
            if (t == 0){
                instance_create(x+56, y + 174, objUndertaleHeart2);
                (instance_create(x+90, y + 38, objUndertaleAttackVisual)).sprite_index = sprUndertaleAttackColonel;
                
            }
            if (t mod 3 == 0){
                with (instance_create(x+90, y+6 + 38, objUndertaleProj)){
                    direction = ((other.t mod 0.135)*129.5 + 66.5*(other.t div 3)) mod 360;
                    index = 4;
                    event_user(0);
                }
            }else if (t mod 3 == 1){
                with (instance_create(x+90, y+6 + 38, objUndertaleProj)){
                    direction = ((other.t mod 0.275)*89.5 + 87.5*(other.t div 2)) mod 360;
                    index = 4;
                    event_user(0);
                }
            }
            if (t == 270){
                _attackOver = true;
            }
            break;
        case 8:
            if (t == 0){
                with (instance_create(x+66, y, objUndertaleBlock)){
                    image_xscale = 53/16;
                    image_yscale = 84/16;
                }
                with (instance_create(x, y + 83, objUndertaleBlock)){
                    image_xscale = 178/16;
                    image_yscale = 0.5;
                }
                instance_create(x+20, y + 77, objUndertaleHeart);
                instance_create(x+42, y + 150, objMakerSpikeUp);
                instance_create(x+74, y + 150, objMakerSpikeUp);
                instance_create(x+106, y + 150, objMakerSpikeUp);
                instance_create(x+42, y + 91, objMakerSpikeDown);
                instance_create(x+74, y + 91, objMakerSpikeDown);
                instance_create(x+106, y + 91, objMakerSpikeDown);
                instance_create(x+2, y + 19, objMakerSpikeRight);
                instance_create(x+34, y + 51, objMakerSpikeLeft);
                instance_create(x+151, y + 19, objMakerSpikeLeft);
                instance_create(x+119, y + 51, objMakerSpikeRight);
                
                with (instance_create(x+50, y + 18, objUndertaleTeleporter)){
                    exitTele = false;
                    destX = other.x+168;
                    destY = other.y+67;
                }
                with (instance_create(x+135, y + 18, objUndertaleTeleporter)){
                    exitTele = false;
                    destX = other.x+22;
                    destY = other.y+139;
                }
                instance_create(x+158, y + 139, objUndertaleTeleporter);
                
                with (objMakerSpikeUp){
                    event_perform(ev_alarm, 10);
                    event_perform(ev_alarm, 11);
                    alarm[10] = -1;
                    alarm[11] = -1;
                    visible = false;
                }
            }
            break;
    }
}

if (_attackOver){
    event_perform(ev_alarm, 0);  // end attack
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Shrink window to attack size
with (objUndertaleWindow){
    size = 188;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
